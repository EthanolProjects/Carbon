cmake_minimum_required(VERSION 3.0)
set(CMAKE_CXX_STANDARD 14)

Project(Carbon)
add_definitions(-DCARBON_EXPORTS)
IF(WIN32)
    add_definitions(-DCARBON_TARGET_WINDOWS)
ELSEIF(CMAKE_SYSTEM_NAME MATCHES "Linux")
    add_definitions(-DCARBON_TARGET_LINUX)
    link_libraries(dl)
ELSEIF(Apple)
    add_definitions(-DCARBON_TARGET_APPLE)
ENDIF()
set(INC_CARBON_BASE Carbon)
set(SRC_CARBON_BASE details)
include(details/CMakeLists.txt)
include_directories(${INC_CARBON_ALL})
add_library(Carbon SHARED ${SRC_CARBON_ALL})
add_executable(CarbonTest tests/Tests.cpp)
target_link_libraries(CarbonTest Carbon)

